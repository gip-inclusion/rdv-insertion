<%# Displays a model attribute in inline format (label left, value right) %>
<%# Mandatory: record, attribute %>
<%# Optional: label, tooltip, as (:inline_list), i18n_scope, default_indicator, suffix, blank_text %>

<div id="<%= local_assigns[:id] %>" class="row py-2 align-items-center">
  <div class="col-4 d-flex align-items-center">
    <span class="fw-bold"><%= local_assigns[:label]&.html_safe || record.class.human_attribute_name(attribute) %></span>
    <% if local_assigns[:tooltip].is_a?(Hash) %>
      <i
        class="<%= local_assigns[:tooltip][:icon] || 'ri-question-line' %> text-dark-blue ms-2 fs-4"
        <%= tooltip(content: local_assigns[:tooltip][:content], placement: local_assigns[:tooltip][:placement] || 'top') %>
      ></i>
    <% end %>
  </div>
  <div class="col-4">
    <% value = record.send(attribute) %>
    <% if record[attribute].in?([true, false]) %>
      <%= I18n.t("boolean.#{record[attribute]}") %>
    <% elsif value.blank? %>
      <span class="text-muted"><%= local_assigns[:blank_text] || "-" %></span>
    <% elsif local_assigns[:as] == :inline_list %>
      <% items = local_assigns[:i18n_scope] ? value.map { |v| I18n.t("#{i18n_scope}.#{v}") } : value %>
      <%= items.join(", ") %>
    <% else %>
      <%= value %><%= " #{local_assigns[:suffix]}" if local_assigns[:suffix] %>
      <% if local_assigns[:default_indicator] && record.attributes[attribute.to_s].blank? %>
        <span>(par dÃ©faut)</span>
      <% end %>
    <% end %>
  </div>
</div>
