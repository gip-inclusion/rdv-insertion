<div class="container">
  <% if content.is_a?(Hash) %>
    <% flash_message = FlashMessage.new(**content.symbolize_keys) %>
  <% elsif content.is_a?(String) %>
    <%# Pour les messages flash historiques %>
    <% flash_message = FlashMessage.new(description: content) %>
  <% end %>
  <div class="row text-center pt-4 <%= (flash_message.persist || type.to_sym == :error) ? "" : "flash_message_fade" %>" data-controller="flash" data-action="animationend->flash#remove">
    <div class="alert <%= alert_class_for(type) %> alert-dismissible fade show" role="alert">
      <div class="d-flex">
        <span class="mx-3"><i class="<%= icon_class_for(type) %>"></i></span>
        <span class="me-3"><strong><%= flash_message.title %></strong></span>
        <span><%= flash_message.description %></span>
        <% if flash_message.link %>
          <span><a href="<%= flash_message.link[:url] %>"><%= flash_message.link[:text] %></a></span>
        <% end %>
      </div>
      <button type="button" class="btn-close me-3" data-action="flash#remove" aria-label="Close"></button>
    </div>
  </div>
</div>
