<%# locals: (title:, form_url:, form_method:, file_configurations:, current_file_configuration:, department:, return_to_selection_path:) %>

<%= render "common/remote_modal", title: title, size: :large do %>
  <%= form_with url: form_url, method: form_method, data: { turbo_frame: "remote_modal" } do |f| %>
    <%= turbo_frame_tag "error_list" %>
    <div class="px-4">
      <%= render "file_configurations/select_list",
                 file_configurations: file_configurations,
                 current_file_configuration: current_file_configuration,
                 department: department,
                 return_to_selection_path: return_to_selection_path %>
    </div>

    <hr class="hr-bleed">

    <div class="d-flex justify-content-between">
      <%= link_to new_file_configuration_path(return_to_selection_path: return_to_selection_path),
                  data: { turbo_frame: "remote_modal" },
                  class: "btn btn-blue-out" do %>
        <i class="ri-add-line"></i> Créer un nouveau modèle
      <% end %>
      <%= f.submit "Sélectionner ce modèle", class: "btn btn-blue" %>
    </div>
  <% end %>
<% end %>
