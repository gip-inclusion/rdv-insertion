<div class="mb-1">
  <div class="w-100">
    <%= link_to(new_structure_choose_date_kind_path(url_params), data: { turbo_frame: 'remote_modal' }, class: 'btn btn-grey w-100 d-flex align-items-center justify-content-between') do %>
      <span class="w-100">Filtrer par date d'invitation ou de convocation</span>
      <% if params[:convocation_date_after].present? || params[:convocation_date_before].present? || params[:first_invitation_date_after].present? || params[:first_invitation_date_before].present? || params[:last_invitation_date_after].present? || params[:last_invitation_date_before].present? %>
      <span class="filter-active convocation-date-filter-active">
        <% active_filters = 0 %>

        <% active_filters += 1 if params[:convocation_date_after].present? || params[:convocation_date_before].present? %>
        <% active_filters += 1 if params[:first_invitation_date_after].present? || params[:first_invitation_date_before].present? %>
        <% active_filters += 1 if params[:last_invitation_date_after].present? || params[:last_invitation_date_before].present? %>

        <% if active_filters > 0 %>
          <span class="filter-active convocation-date-filter-active">
            <%= active_filters %>
          </span>
        <% end %>
      </span>
      <% end %>
    <% end %>
  </div>
</div>
